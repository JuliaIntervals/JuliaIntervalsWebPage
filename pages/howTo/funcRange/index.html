<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/atom-one-dark.css"> <style> .hljs td { border-bottom: none; padding-bottom: 0em !important; padding-left: 0.5em !important; padding-right: 0.5em !important; padding-top: 0.2em !important;} </style> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/minimal-mistakes.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=stylesheet  href="/css/sidebar.css"> <link rel=stylesheet  href="/css/documentation.css"> <link rel=icon  href="/assets/juliaintervals-logo.svg"> <!--[if IE ]> <style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; } </style> <![endif]--> <title>Rigorous computation of function range</title> <script src="/libs/lunr/lunr.min.js"></script> <script src="/libs/lunr/lunr_index.js"></script> <script src="/libs/lunr/lunrclient.min.js"></script> <body class=layout--single > <div class="masthead sticky"> <div class=masthead__inner-wrap > <div class=masthead__menu > <nav id=site-nav  class=greedy-nav > <a class=site-logo  href="/"><img src="/assets/juliaintervals-lockup.svg" alt="julia logo"></a> <form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder="Enter search term" type=text  > <input type=submit  class=search-button  value=Search  formaction="/search/index.html" > </form> <ul class=visible-links > <li class=masthead__menu-item ><a href="/pages/tutorials/" >Tutorials</a> <li class=masthead__menu-item ><a href="/pages/howTo/" >Applications</a> <li class=masthead__menu-item ><a href="/pages/explanations/" >Explanations</a> <li class=masthead__menu-item ><a href="/pages/apiDocs/">API docs</a> <li class=masthead__menu-item ><a href="/pages/faq/">Contributors</a> </ul> <button class="greedy-nav__toggle hidden" type=button > <span class=visually-hidden >Toggle menu</span> <div class=navicon ></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class=initial-content > <div id=main  role=main > <div class="sidebar sticky"> <div itemscope itemtype="https://schema.org/Person"> <h3><label for=show-menu  class=show-menu >Index</label></h3> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <h2 class=sidebar-title ><a href="/pages/howTo" class=sidebar-link >Applications</a></h2> <ul class=menu-list > <li class="menu-list-item "><a href="/pages/howTo/rigorousPi/" class="menu-list-link ">Rigorous approximation of π</a> <li class="menu-list-item active"><a href="/pages/howTo/funcRange/" class="menu-list-link active">Rigorous computation of function range</a> </ul></div> </div> </div> <div class=franklin-content ><h1 id=rigorous_computation_of_function_range ><a href="#rigorous_computation_of_function_range">Rigorous computation of function range</a></h1></p> <div class=franklin-toc ><ol><li><a href="#introduction">Introduction</a><li><a href="#a_first_example">A first example</a><li><a href="#a_more_challenging_example_1d">A more challenging example &#40;1D&#41;</a></ol></div> <p>Download the <a href="/notebooks/howTo/funcRange.ipynb">notebook</a> for this tutorial.</p> <p><h2 id=introduction ><a href="#introduction">Introduction</a></h2> <p>The range of a function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> is defined as the set <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy=false >(</mo><mi>X</mi><mo stretchy=false >)</mo><mo>=</mo><mrow><mi>f</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mi mathvariant=normal >∣</mi><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></mrow><annotation encoding="application/x-tex">f(X) = {f(x) | x\in X}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mclose >)</span><span class=mord >∣</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></span>, where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> is the domain of the function. This tutorial will show how to to exploit interval arithmetic to give a rigorous estimate of the function range.</p> <p>First, let&#39;s import all the packages we need</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> IntervalArithmetic, Plots</code></pre>
<h2 id=a_first_example ><a href="#a_first_example">A first example</a></h2>
<p>To begin with, let us compute the range of the function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>x</mi></mrow><annotation encoding="application/x-tex">f(x)=x^2+2x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.897438em;vertical-align:-0.08333em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >2</span><span class="mord mathdefault">x</span></span></span></span> over the interval <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy=false >[</mo><mo>−</mo><mn>5</mn><mo separator=true >,</mo><mn>5</mn><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">X=[-5, 5]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >−</span><span class=mord >5</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >5</span><span class=mclose >]</span></span></span></span>.</p>
<pre><code class="julia hljs">f(x) = x^<span class=hljs-number >2</span>+<span class=hljs-number >2</span>x
X = -<span class=hljs-number >5.</span><span class=hljs-number >.5</span>

<span class=hljs-meta >@show</span> range_1_interval = f(X)

plot(f, -<span class=hljs-number >5</span>, <span class=hljs-number >5</span>, leg=<span class=hljs-literal >false</span>)
plot!(IntervalBox(X, f(X)))</code></pre><pre><code class="plaintext hljs">range_1_interval = f(X) = [-10, 35]
</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/range1.svg" alt="">
<p>As can be noticed, in this case we overestimate the range of the function. This is a common issue in interval arithmetic and it is known as <em>dependency problem</em>. If a variable is present more than once in the expression, then evaluating the function over an interval will produce  larger interval. For this simple function, the problem can be solved with simple algebraic manipulation observing that</p>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>x</mi><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn><mo>−</mo><mn>1</mn><mo>=</mo><mo stretchy=false >(</mo><mi>x</mi><mo>+</mo><mn>1</mn><msup><mo stretchy=false >)</mo><mn>2</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">
x^2+2x=x^2+2x+1-1=(x+1)^2-1
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >2</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >2</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >1</span></span></span></span></span>
<p>The variable <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> is now present only once and no overestimation occurs, as the following code confirms</p>
<pre><code class="julia hljs">f1(x) = (x+<span class=hljs-number >1</span>)^<span class=hljs-number >2</span>-<span class=hljs-number >1</span>
<span class=hljs-meta >@show</span> range_f = f1(X)

plot(f1, -<span class=hljs-number >5</span>, <span class=hljs-number >5</span>, leg=<span class=hljs-literal >false</span>)
plot!(IntervalBox(X, f1(X)))</code></pre><pre><code class="plaintext hljs">range_f = f1(X) = [-1, 35]
</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/range2.svg" alt="">
<p>Despite for this simple example we could analytically solve the dependency problem, this is not possible in general. The strategy to reduce overestimation is <em>divide and conquer</em>. The domain is divided into smaller intervals and the function is evaluated at each interval. The process of partitioning the interval into smaller piecing is called &quot;mincing&quot; and <code>IntervalArithmetic</code> offers the function <code>mince&#40;X, N&#41;</code> to partition the interval <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> into <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> intervals. This function returns an array of intervals. For example using 10 intervals</p>
<pre><code class="julia hljs">Xs = mince(X, <span class=hljs-number >10</span>)
Y = f.(Xs)
plot(f, -<span class=hljs-number >5</span>, <span class=hljs-number >5</span>, leg=<span class=hljs-literal >false</span>)
plot!(IntervalBox.(Xs, f.(Xs)))</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/range3.svg" alt="">
<p>Assuming the function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> is continuous, we can now compute the function range by taking the union of the computed intervals. This can be done using the function <code>reduce</code></p>
<pre><code class="julia hljs">range_10_intervals = reduce(∪, Y)
overestimate_1_interval = (diam(range_1_interval)-diam(range_f))/diam(range_f)
overestimate_10_intervals = (diam(range_10_intervals)-diam(range_f))/diam(range_f)
<span class=hljs-meta >@show</span> overestimate_1_interval, overestimate_10_intervals

anim = <span class=hljs-meta >@animate</span> <span class=hljs-keyword >for</span> i=<span class=hljs-number >1</span>:<span class=hljs-number >50</span>
    Xs = mince(X, i)
    plot(f, -<span class=hljs-number >5</span>, <span class=hljs-number >5</span>, leg=<span class=hljs-literal >false</span>)
    plot!(IntervalBox.(Xs, f.(Xs)))
<span class=hljs-keyword >end</span>
gif(anim, joinpath(<span class=hljs-meta >@OUTPUT</span>, <span class=hljs-string >&quot;anim_range1.gif&quot;</span>), fps = <span class=hljs-number >10</span>)
<span class=hljs-literal >nothing</span></code></pre><pre><code class="plaintext hljs">(overestimate_1_interval, overestimate_10_intervals) = (0.25, 0.05555555555555555)
</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/anim_range1.gif" alt="">
<p>As can be seen, the more intervals we use, the closer the range estimate will get to the actual range. We are now ready to write our function <code>range&#40;f, X, tol&#41;</code> which estimates the range of a function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> over an interval <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>. The function will take a third parameter an error tolerance <code>tol</code> and keep increasing the number of intervals until the relative change will become smaller than <code>tol</code>. Denoting by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Y_i</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> the range estimate using <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> intervals, the relative change can be computed as <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><msub><mi>Y</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>Y</mi><mi>i</mi></msub></mrow><msub><mi>Y</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mfrac></mrow><annotation encoding="application/x-tex">\frac{Y_{i-1}-Y_{i}}{Y_{i-1}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.416861em;vertical-align:-0.486765em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.930096em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">Y</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32808571428571426em;"><span style="top:-2.357em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.451765em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">Y</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32808571428571426em;"><span style="top:-2.357em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.20252142857142857em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">Y</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.486765em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> range(f, X, N, tol=<span class=hljs-number >0.01</span>)

    Xs = mince(X, N)
    Ynext = f.(Xs)
    Ynext = reduce(∪, Ynext)
    err = tol+<span class=hljs-number >1</span>

    <span class=hljs-keyword >while</span> err &gt; tol
        Yprev = Ynext
        N *= <span class=hljs-number >2</span>
        Xs = mince(X, N)
        Ynext = f.(Xs)
        Ynext = reduce(∪, Ynext)
        err = (diam(Yprev) - diam(Ynext))/diam(Yprev)
    <span class=hljs-keyword >end</span>

    <span class=hljs-keyword >return</span> (Ynext, N, err)
<span class=hljs-keyword >end</span></code></pre><pre><code class="plaintext hljs">range (generic function with 2 methods)</code></pre>
<p>Now we are ready to compute the range of our function</p>
<pre><code class="julia hljs">Y, N, err = range(f, X, <span class=hljs-number >3</span>)
<span class=hljs-meta >@show</span> (Y, N, err)
plot(f, -<span class=hljs-number >5</span>, <span class=hljs-number >5</span>, legend=<span class=hljs-literal >false</span>)
plot!(IntervalBox(X, Y))</code></pre><pre><code class="plaintext hljs">(Y, N, err) = ([-1.2066, 35], 96, 0.005721096543504041)
</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/range4.svg" alt="">
<h2 id=a_more_challenging_example_1d ><a href="#a_more_challenging_example_1d">A more challenging example &#40;1D&#41;</a></h2>
<p>Now that we have developed our tool to estimate a function range, we are ready to test it with more challenging functions. Let&#39;s estimate the range of the function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mn>5</mn></msubsup><mi>k</mi><mi>x</mi><mi>sin</mi><mo>⁡</mo><mrow><mo fence=true >(</mo><mfrac><mrow><mi>k</mi><mo stretchy=false >(</mo><mi>x</mi><mo>−</mo><mn>3</mn><mo stretchy=false >)</mo></mrow><mn>3</mn></mfrac><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">g(x) = -\sum_{k=1}^5kx\sin\left(\frac{k(x-3)}{3}\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.80002em;vertical-align:-0.65002em;"></span><span class=mord >−</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mop >sin</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span> over the interval <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy=false >[</mo><mo>−</mo><mn>10</mn><mo separator=true >,</mo><mn>10</mn><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">X=[-10,10]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >−</span><span class=mord >1</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >1</span><span class=mord >0</span><span class=mclose >]</span></span></span></span>.</p>
<pre><code class="julia hljs">X = -<span class=hljs-number >10.</span><span class=hljs-number >.10</span>

g(x) = -sum([k*x*sin(k*(x-<span class=hljs-number >3</span>)/<span class=hljs-number >3</span>) <span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:<span class=hljs-number >5</span>])

Y, N, err = range(g, X, <span class=hljs-number >3</span>)
<span class=hljs-meta >@show</span> (Y, N, err)
plot(g, -<span class=hljs-number >10</span>, <span class=hljs-number >10</span>, legend=<span class=hljs-literal >false</span>)
plot!(IntervalBox(X, Y))</code></pre><pre><code class="plaintext hljs">(Y, N, err) = ([-55.8697, 33.9264], 1536, 0.009006235498525415)
</code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/range5.svg" alt="">
<pre><code class="julia hljs">anim = <span class=hljs-meta >@animate</span> <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span> .^(<span class=hljs-number >0</span>:<span class=hljs-number >10</span>)
    Xs = mince(X, i)
    plot(g, -<span class=hljs-number >10</span>, <span class=hljs-number >10</span>, leg=<span class=hljs-literal >false</span>)
    plot!(IntervalBox.(Xs, g.(Xs)))
<span class=hljs-keyword >end</span></code></pre>
<img src="/assets/pages/howTo/funcRange/code/output/anim_range2.gif" alt="">

<div class=page-foot >
  <div class=copyright >
    &copy; Luca Ferranti. Last modified: January 26, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div>

      </div> 
    </div>   

    <div class=page__footer >
      <footer>
        
        
        <div class=page__footer-follow >
          <ul class=social-icons >
            <li><strong>Follow:</strong>
            <li><a href="https://github.com/JuliaIntervals" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a>
          </ul>
        </div>
        <div class=page__footer-copyright >&copy; Luca Ferranti. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel=nofollow >Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/libs/minimal-mistakes/main.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin=anonymous ></script>